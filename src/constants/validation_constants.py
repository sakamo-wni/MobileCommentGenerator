"""バリデーション関連の定数"""

import re

# 類似度の閾値
SIMILARITY_THRESHOLD = 0.7

# 正規表現パターン（プリコンパイル）
PUNCTUATION_PATTERN = re.compile(r'[、。・！？｢｣「」『』（）［］【】\s]+')
PUNCTUATION_PATTERN_SIMPLE = re.compile(r'[。、！？\s　]')

# 重複チェック用キーワード
DUPLICATE_KEYWORDS = [
    "にわか雨", "熱中症", "紫外線", "雷", "強風", "大雨", "猛暑", "酷暑",
    "注意", "警戒", "対策", "気をつけ", "備え", "準備",
    "傘",  # 傘関連の重複を防ぐ
    "気温差", "寒暖差", "温度差"  # 気温差関連の重複を防ぐ
]

# 重要な重複キーワード（より厳格にチェック）
CRITICAL_DUPLICATE_KEYWORDS = {
    "にわか雨", "熱中症", "紫外線", "雷", "強風", "大雨", "猛暑", "酷暑"
}

# 傘関連の表現
UMBRELLA_EXPRESSIONS = [
    "傘が必須", "傘がお守り", "傘を忘れずに", "傘をお忘れなく",
    "傘の準備", "傘が活躍", "折り畳み傘", "傘があると安心",
    "傘をお持ちください", "傘の携帯"
]

# 繰り返しパターン
REPETITIVE_PATTERNS = [
    {
        "concept": "気温差",
        "expressions": ["気温差大", "寒暖差大", "温度差大", "朝昼の気温差", 
                      "朝晩と昼間の気温差", "朝と夜の気温差", "日中と朝晩の気温差",
                      "気温差に注意", "寒暖差に注意", "温度差に注意"]
    },
    {
        "concept": "雨注意",
        "expressions": ["雨が降りやすく", "急な雨に注意", "雨に注意", "雨具を持参",
                      "傘を持参", "傘が必要", "傘を忘れずに", "雨対策を"]
    },
    {
        "concept": "暑さ注意",
        "expressions": ["暑さに注意", "熱中症に注意", "暑さ対策", "暑さを避け",
                      "暑さが心配", "暑さに警戒", "熱中症対策", "暑さに備え"]
    },
    {
        "concept": "日差し注意",
        "expressions": ["日差しに注意", "紫外線対策", "UV対策", "日焼け対策",
                      "日差しが強い", "紫外線が強い", "日差しを避け"]
    }
]

# 意味的矛盾パターン
CONTRADICTION_PATTERNS = [
    # 日差し・太陽関連の矛盾
    (["日差しの活用", "日差しを楽しん", "陽射しを活用", "太陽を楽しん", "日光浴", "日向"], 
     ["紫外線対策", "日焼け対策", "日差しに注意", "陽射しに注意", "UV対策", "日陰"]),
    # 外出関連の矛盾  
    (["外出推奨", "お出かけ日和", "散歩日和", "外出には絶好", "外で過ごそう"], 
     ["外出時は注意", "外出を控え", "屋内にいよう", "外出は危険"]),
    # 暑さ関連の矛盾
    (["暑さを楽しん", "夏を満喫", "暑いけど気持ち"], 
     ["暑さに注意", "熱中症対策", "暑さを避け"]),
    # 雨関連の矛盾
    (["雨を楽しん", "雨音が心地", "恵みの雨"], 
     ["雨に注意", "濡れないよう", "雨対策"])
]

# 類似表現パターン
SIMILARITY_PATTERNS = [
    (["雨が心配", "雨に注意"], ["雨", "注意"]),
    (["暑さが心配", "暑さに注意"], ["暑", "注意"]),
    (["風が強い", "風に注意"], ["風", "注意"]),
    (["紫外線が強い", "紫外線対策"], ["紫外線"]),
    (["雷が心配", "雷に注意"], ["雷", "注意"]),
    (["傘が必須", "傘を忘れずに", "傘をお忘れなく"], ["傘", "必要", "お守り", "安心"]),
    (["傘がお守り", "傘が安心"], ["傘", "必要", "必須", "忘れずに"]),
    (["気温差大", "寒暖差大", "朝昼の気温差", "朝晩と昼間の気温差"], 
     ["気温差", "寒暖差", "温度差", "朝晩", "昼間", "注意"]),
]